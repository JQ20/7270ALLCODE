<%= person.name %>,<%= person.age %>
<button type="button" class="button is-danger" onclick="deletePerson('<%= person.id %>')">Delete</button>

<!-- <form action="/person/delete/<%= person.id %>" method="POST">
    <div class="field">

        <div class="field">
            <span class=" is-size-1">Name :</span>
            <span class="is-size-2 has-text-success">&nbsp&nbsp&nbsp<%= person.name %></span>
        </div>
    
        <div class="field">
            <span class=" is-size-1">Age :</span>
            <span class="is-size-2 has-text-success">&nbsp&nbsp&nbsp<%= person.age %></span>
        </div>
        <br/><br/>
        <button   class="button is-danger" type="submit">delete me!!</button>

    </div>

</form> -->
<script>
    async function deletePerson(id) {
        var r = confirm("Confirm Delete?");
        
        if (r) {
            var response = await fetch("/person/" + id, {
                method: "DELETE"    
            });

            if (response.ok) {
                // var html = await response.text();
                // alert(html);

                alert("Person deleted");
                location.assign("/");

            } else {
                alert(response.status + ": " + response.statusText);
            }

        } else {
            alert("cancelled");
        }
    };
</script>